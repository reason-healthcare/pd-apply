{
  "resourceType" : "ActivityDefinition",
  "id" : "CollectInformationActivity",
  "meta" : {
    "profile" : ["http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-collectinformationactivity"]
  },
  "extension" : [{
    "url" : "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
    "valueCode" : "publishable"
  },
  {
    "url" : "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeRepresentationLevel",
    "valueCode" : "structured"
  },
  {
    "url" : "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-collectWith",
    "valueCanonical" : "http://hl7.org/fhir/uv/cpg/Questionnaire/activity-example-collectinformation"
  }],
  "url" : "http://example.org/ActivityDefinition/CollectInformationActivity",
  "version" : "0.1.0",
  "name" : "CollectInformationActivity",
  "title" : "ActivityDefinition CollectInformationActivity",
  "status" : "draft",
  "experimental" : true,
  "date" : "2025-01-06T14:19:43-05:00",
  "publisher" : "Example Publisher",
  "contact" : [{
    "name" : "Example Publisher",
    "telecom" : [{
      "system" : "url",
      "value" : "http://example.org/example-publisher"
    }]
  }],
  "description" : "Example Activity Definition for a recommendation to collect information",
  "kind" : "Task",
  "profile" : "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-questionnairetask",
  "code" : {
    "coding" : [{
      "system" : "http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-activity-type",
      "code" : "collect-information",
      "display" : "Collect information"
    }]
  },
  "intent" : "proposal",
  "doNotPerform" : false,
  "dynamicValue" : [{
    "path" : "input[0].type",
    "expression" : {
      "language" : "text/fhirpath",
      "expression" : "%context.code"
    }
  },
  {
    "path" : "input[0].valueCanonical",
    "expression" : {
      "language" : "text/fhirpath",
      "expression" : "%context.extension.where(url='http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-collectWith').value"
    }
  }]
}